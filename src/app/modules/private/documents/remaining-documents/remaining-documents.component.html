<div class="generalContainer">


    @if (loadingData) {
    <div class="centerContent">
        <nz-spin nzSimple [nzSize]="'large'" nzTip="Cargando datos..."></nz-spin>
    </div>
    } @else {

        @if (!loadingData && documentList.length > 0) {

            <div class="container-alerts">
              <nz-alert
                nzType="warning"
                nzCloseable
                nzMessage="Asegúrate de que el documento no esté protegido por contraseña antes de cargarlo."
              ></nz-alert>

              <nz-alert
                nzType="error"
                nzCloseable
                nzMessage="Asegúrate de tener desactivada la traducción de la página para evitar cambios en los nombres de los documentos."
              ></nz-alert>
            </div>

            <div class="container-grid">
                @for (item of documentList; track $index) {
                    @if (item.idTypeDocuments == 8 || item.idTypeDocuments == 22 || item.idTypeDocuments == 113 || item.idTypeDocuments == 108) {

                        <form nz-form nz-row [formGroup]="formDate" class="form-documentList" nzJustify="center" nzAlign="bottom">
                            <label id="upload" class="custom-file-upload btn rounded">
                                <input type="file" name="file" id="upload-file" class="custom-file-input" appFileValidator (fileValidated)="loadFiles($event, item)" hidden>
                                <img src="../../../../../assets/img/warning.png" alt="">
                                {{ item.NameDocument }}

                                <!-- Input tipo fecha con deshabilitación de fechas para los idTypeDocuments específicos -->
                                @if (item.idTypeDocuments == 113 || item.idTypeDocuments == 108) {
                                    <nz-date-picker
                                        nzFormat="yyyy-MM-dd"
                                        [nzDisabledDate]="disableDates"
                                        formControlName="fecha">
                                    </nz-date-picker>
                                    <p style="color: red; font-size: 11px; text-align: justify;" >El documento No puede ser mayor a 30 días de la fecha de expedición.</p>

                                }
                                <!-- Input tipo fecha normal para otros documentos -->
                                @if (item.idTypeDocuments == 8 || item.idTypeDocuments == 22) {
                                    <nz-date-picker
                                        nzFormat="yyyy-MM-dd"
                                        formControlName="fecha">
                                    </nz-date-picker>
                                }
                            </label>
                        </form>
                    }
                    @else {
                        <label id="upload" class="custom-file-upload btn rounded">
                            <input type="file" name="file" id="upload-file" class="custom-file-input" appFileValidator (fileValidated)="loadFiles($event, item)" hidden>
                            <img src="../../../../../assets/img/warning.png" alt="">
                            {{ item.NameDocument }}
                        </label>
                    }
                }
            </div>

        } @else {

            <div nz-row nzJustify="center" nzAlign="middle" [nzGutter]="[12,12]">
                <h2 nz-col [nzXs]="24" [nzSm]="24" [nzMd]="24" [nzLg]="24" [nzXl]="24" [nzXXl]="24">
                    No hay Documentos
                </h2>
            </div>

        }



    }


</div>
